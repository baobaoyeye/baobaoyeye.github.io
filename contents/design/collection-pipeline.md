探索更多管道和操作
===============

到目前为止，我曾使用过的一个管道的例子仅仅使用了那些在集合管道中很少的公共操作。所以现在我将通过一些例子探索更多的操作。
在支持这个模式的不同语言中，通常可以构建出相同的管道的样子。

map 这个操作返回一个集合，这个集合中的成员是对输入集合中的每一个元素应用给定的lambda表达式后的结果。

```
[1, 2, 3].map{|i| i * i} # => [1, 4, 9]
```

reduce 这个操作合并一个输入集合到一个单值。合并通常归并成一个单值，然后只出现在集合管道的最后步骤中。ruby中通用的合并函数使用一个带有两个变量的lambda表达式，通常一个代表每一个元素另个一代表聚合值。在合并的每一步中，它会设置聚合值作为带有一个新元素的lambda表达式的结果。

```
[1, 2, 3].reduce {|acc, each| acc + each} # => 6
```

通过如下代码计算所有文章中的单词数目
```
some_articles
  .map{|a| a.words}
  .reduce {|acc, w| acc + w}
```

除了用过lambda表达式作为操作意外还可以通过制定函数的名字作为操作

```
some_articles
  .map(&:words)
  .reduce(:+)
```