摘要
===
Spanner是google的可伸缩、多版本、全球分布式、并且同步复制数据库。它是第一个在全球分布数据并且支持外部一致的分布式事务。
这篇论文描述Spanner的结构、特性集合、一系列底层设计抉择的依据，和一个暴露时钟不确定性的新时间API。
这个API和它的实现是支持外部一致性的关键和一系列给力特性：以往的非阻塞读、无锁只读事务、原子模式变更，贯穿了整个Spanner。

1、介绍
======
Spanner是一个Google设计、构建、部署的可扩展、全球分布式数据库。它是一个把数据分散到在全球数据中心的很多paxos状态机集合中的数据库。复制用于全球的可用性和地理定位。客户端在副本间自动恢复。Spanner在机器数量变化和数据量变化的时候自动分散数据到机器中。并且在机器间自动迁移数据（甚至是跨数据中心）来均衡负载和响应失败的情况，Spanner被设计能够扩展到百万个机器，跨数百个数据中心和万亿级别的数据库行。
应用为了高可用可以使用Spanner，即使在面对大规模的自然灾害的时候，通过在大洲内和间复制他们的数据。我们最初的用户一个重写的google广告后端——F1。F1在美国境内分散5副本。很多别的应用在一个物理区域内可能跨3-5个数据中心复制他们的数据，但是伴随着相对独立的失败模式。大多数的应用会选择更低的延迟而不是更高的可用性，只要他们能够在1-2个数据中心失败的情况下存活下来。
Spanner主要关注跨数据中心的复制数据，但是我们也已经花费了大量的时间在设计和实现位于分布式系统架构上层的重要的数据库特性，尽管很多用户傻傻的使用着Bigtable，但是还是有有些种类的应用会抱怨，他们复杂，模式会变更。或者他们想让副本间强一致。
2、实现
======

2.1、spanserver软件栈
--------------------

2.2、目录和定位
-------------

2.3、数据模型
-----------

3、真实时间
=========

4、并发控制
=========

4.1、时间戳管理
-------------

### 4.1.1、Paxos Leader租约

### 4.1.2、给读写事务分配时间戳

### 4.1.3、

### 4.1.4、给只读事务分配时间戳

4.2、详情
--------

### 4.2.1、读写事务

### 4.2.2、只读事务

### 4.2.3、模式变更事务

### 4.2.4、改进

5、评估
======

5.1、基准
--------

5.2、可用性
----------

5.3、真实时间
-----------

5.4、F1
-------

6、相关工作
=========

7、将来工作
=========

8、结论
======